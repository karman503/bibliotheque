{% extends "base.html" %}
{% block content %}
<div class="container p-4">
    <h3>Détails emprunt #{{ emprunt.id }}</h3>
    <div class="card mt-3">
        <div class="card-body">
            <p><strong>Livre:</strong> {{ emprunt.livre.titre }}</p>
            <p><strong>Adhérent:</strong> {{ emprunt.adherent.nom }} {{ emprunt.adherent.prenom }}</p>
            <p><strong>Date emprunt:</strong> {{ emprunt.date_emprunt.strftime('%d/%m/%Y %H:%M') }}</p>
            <p><strong>Date retour prévue:</strong> {{ emprunt.date_retour_prevue.strftime('%d/%m/%Y') }}</p>
            <p><strong>Statut:</strong> {{ emprunt.status }}</p>
            <p><strong>Prolongations:</strong> {{ emprunt.prolongations }}</p>
            <p><strong>Amende:</strong> {{ emprunt.amende }}€</p>
            <div class="mt-3 d-flex gap-2">
                {% if not emprunt.date_retour_effective %}
                <a href="{{ url_for('retourner_livre', emprunt_id=emprunt.id) }}"
                    class="btn btn-outline-secondary">Marquer comme rendu</a>
                <form method="post" action="{{ url_for('prolonger_emprunt', emprunt_id=emprunt.id) }}">
                    <button class="btn btn-outline-primary">Prolonger (+7j)</button>
                </form>
                {% endif %}
                <a href="{{ url_for('emprunts') }}" class="btn btn-secondary">Retour</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}